<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Process an R Markdown package from source to installation — process_pkg • pkgpurl</title>



<!-- jquery -->
<script src="../jquery.min.js"></script>

<!-- Bootstrap -->
<link rel="stylesheet" href="../yeti.min.css" />

<script src="../bootstrap.min.js" ></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="../font-awesome/css/all.min.css" />
<link rel="stylesheet" href="../font-awesome/css/v4-shims.min.css" />

<!-- clipboard.js -->
<script src="../clipboard.min.js"></script>

<!-- headroom.js -->
<script src="../headroom.min.js"></script>
<script src="../jQuery.headroom.min.js"></script>





<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<meta property="og:title" content="Process an R Markdown package from source to installation — process_pkg" />
<meta name="description" content="Executes all steps to process an R package written in R Markdown format from source to installation in one go: Purl all relevant Rmd/*.Rmd files to R/*.gen.R files using purl_rmd(). Re-generate the pkgdown reference index based on the package's main R Markdown file using gen_pkgdown_ref() (if gen_pkgdown_ref = TRUE). Re-build the package documentation using devtools::document() (if document = TRUE). Build and install the package using devtools::install() (if build_and_install = TRUE). Restarts the R session using rstudioapi::restartSession() (if restart_r_session = TRUE).">
<meta property="og:description" content="Executes all steps to process an R package written in R Markdown format from source to installation in one go: Purl all relevant Rmd/*.Rmd files to R/*.gen.R files using purl_rmd(). Re-generate the pkgdown reference index based on the package's main R Markdown file using gen_pkgdown_ref() (if gen_pkgdown_ref = TRUE). Re-build the package documentation using devtools::document() (if document = TRUE). Build and install the package using devtools::install() (if build_and_install = TRUE). Restarts the R session using rstudioapi::restartSession() (if restart_r_session = TRUE)." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@2BSalim" />
<meta name="twitter:site" content="@2BSalim" />


<meta name="robots" content="noindex">



<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pkgpurl</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.0.9011</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://gitlab.com/salim_b/r/pkgs/pkgpurl/">
    <span class="fab fa-gitlab fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Process an R Markdown package from source to installation</h1>
    <small class="dont-index">Source: <a href='https://gitlab.com/salim_b/r/pkgs/pkgpurl/blob/master/R/pkgpurl.gen.R'><code>R/pkgpurl.gen.R</code></a></small>
    <div class="hidden name"><code>process_pkg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Executes all steps to process an R package written in R Markdown format from source to installation in one go:</p><ol>
<li><p>Purl all relevant <code>Rmd/*.Rmd</code> files to <code>R/*.gen.R</code> files using <code><a href='purl_rmd.html'>purl_rmd()</a></code>.</p></li>
<li><p>Re-generate the <a href='https://pkgdown.r-lib.org/reference/build_reference.html#reference-index'>pkgdown reference index</a> based on the package's <a href='main_rmd.html'>main R Markdown file</a> using <code><a href='gen_pkgdown_ref.html'>gen_pkgdown_ref()</a></code> (if <code>gen_pkgdown_ref = TRUE</code>).</p></li>
<li><p>Re-build the package documentation using <code><a href='https://devtools.r-lib.org/reference/document.html'>devtools::document()</a></code> (if <code>document = TRUE</code>).</p></li>
<li><p>Build and install the package using <code><a href='https://devtools.r-lib.org/reference/install.html'>devtools::install()</a></code> (if <code>build_and_install = TRUE</code>).</p></li>
<li><p>Restarts the R session using <code><a href='https://rdrr.io/pkg/rstudioapi/man/restartSession.html'>rstudioapi::restartSession()</a></code> (if <code>restart_r_session = TRUE</code>).</p></li>
</ol>

    </div>

    <pre class="usage"><span class='fu'>process_pkg</span><span class='op'>(</span>
  path <span class='op'>=</span> <span class='st'>"."</span>,
  add_copyright_notice <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"pkgpurl.add_copyright_notice"</span><span class='op'>)</span>,
  add_license_notice <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"pkgpurl.add_license_notice"</span><span class='op'>)</span>,
  gen_pkgdown_ref <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"pkgpurl.gen_pkgdown_ref"</span>, default <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
  document <span class='op'>=</span> <span class='cn'>TRUE</span>,
  build_and_install <span class='op'>=</span> <span class='cn'>TRUE</span>,
  restart_r_session <span class='op'>=</span> <span class='va'>build_and_install</span>,
  quiet <span class='op'>=</span> <span class='cn'>TRUE</span>,
  roclets <span class='op'>=</span> <span class='cn'>NULL</span>,
  reload <span class='op'>=</span> <span class='cn'>TRUE</span>,
  args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"devtools.install.args"</span><span class='op'>)</span>,
  dependencies <span class='op'>=</span> <span class='cn'>NA</span>,
  upgrade <span class='op'>=</span> <span class='st'>"never"</span>,
  keep_source <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"keep.source.pkgs"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>The path to the root of the package directory.</p></td>
    </tr>
    <tr>
      <th>add_copyright_notice</th>
      <td><p>Whether or not to add a <strong>copyright notice</strong> at the beginning of the generated <code>.R</code> files as recommended by e.g. the <a href='https://www.gnu.org/licenses/gpl-howto.html'>GNU licenses</a>. The notice consists of the name and description of the program and the word <code>Copyright (C)</code>,
followed by the release years and the name(s) of the copyright holder(s), or if not specified, the author(s). The year is always the current year. All the
other information is extracted from the package's <code>DESCRIPTION</code> file. A logical scalar or <code>NULL</code>. If <code>NULL</code>, the notice will be added only if <code>path</code> <a href='https://rpkg.dev/pal/reference/is_pkg_dir.html'>is actually an R package directory</a>. Defaults to the R option <code>pkgpurl.add_copyright_notice</code>.</p></td>
    </tr>
    <tr>
      <th>add_license_notice</th>
      <td><p>Whether or not to add a <strong>license notice</strong> at the beginning of the generated <code>.R</code> files as recommended by e.g. the <a href='https://www.gnu.org/licenses/gpl-howto.html'>GNU licenses</a>. The license is determined from the package's <code>DESCRIPTION</code> file and currently only the
<a href='https://spdx.org/licenses/AGPL-3.0-or-later.html'><code>AGPL-3.0-or-later</code> license</a> is supported. A logical scalar or <code>NULL</code>. If <code>NULL</code>, it will be added only
if <code>path</code> <a href='https://rpkg.dev/pal/reference/is_pkg_dir.html'>is actually an R package directory</a>. Defaults to the R option <code>pkgpurl.add_license_notice</code>.</p></td>
    </tr>
    <tr>
      <th>gen_pkgdown_ref</th>
      <td><p>Whether or not to overwrite <a href='https://pkgdown.r-lib.org/reference/pkgdown-package.html'>pkgdown</a>'s <a href='https://pkgdown.r-lib.org/reference/build_reference.html#reference-index'>reference index</a> in the configuration file <code>_pkgdown.yml</code> with an auto-generated one
based on the main input file as described in <code><a href='gen_pkgdown_ref.html'>gen_pkgdown_ref()</a></code>. A logical scalar. Only applies if <code>path</code> <a href='https://rpkg.dev/pal/reference/is_pkg_dir.html'>is actually an R package directory</a>, <a href='https://rpkg.dev/pal/reference/is_pkgdown_dir.html'>pkgdown is set up</a> and a <a href='main_rmd.html'>main R Markdown file</a> exists. Defaults to the R option
<code>pkgpurl.gen_pkgdown_ref</code>.</p></td>
    </tr>
    <tr>
      <th>document</th>
      <td><p>Whether or not to re-build the package documentation after purling <code>Rmd/*.Rmd</code> to <code>R/*.gen.R</code>.</p></td>
    </tr>
    <tr>
      <th>build_and_install</th>
      <td><p>Whether or not to build and install the package after purling <code>Rmd/*.Rmd</code> to <code>R/*.gen.R</code>.</p></td>
    </tr>
    <tr>
      <th>restart_r_session</th>
      <td><p>Whether or not to restart the R session. Highly recommended if <code>build_and_install = TRUE</code>, but only possible when R is run within
RStudio.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>Whether or not to suppress printing status output from internal processing.</p></td>
    </tr>
    <tr>
      <th>roclets</th>
      <td><p>Character vector of roclet names to use with package.
The default, <code>NULL</code>, uses the roxygen <code>roclets</code> option,
which defaults to <code>c("collate", "namespace", "rd")</code>.</p></td>
    </tr>
    <tr>
      <th>reload</th>
      <td><p>if <code>TRUE</code> (the default), will automatically reload the
package after installing.</p></td>
    </tr>
    <tr>
      <th>args</th>
      <td><p>An optional character vector of additional command line
arguments to be passed to <code>R CMD INSTALL</code>. This defaults to the
value of the option <code>"devtools.install.args"</code>.</p></td>
    </tr>
    <tr>
      <th>dependencies</th>
      <td><p>Which dependencies do you want to check?
Can be a character vector (selecting from "Depends", "Imports",
"LinkingTo", "Suggests", or "Enhances"), or a logical vector.</p>
<p><code>TRUE</code> is shorthand for "Depends", "Imports", "LinkingTo" and
"Suggests". <code>NA</code> is shorthand for "Depends", "Imports" and "LinkingTo"
and is the default. <code>FALSE</code> is shorthand for no dependencies (i.e.
just check this package, not its dependencies).</p>
<p>The value "soft" means the same as <code>TRUE</code>, "hard" means the same as <code>NA</code>.</p>
<p>You can also specify dependencies from one or more additional fields,
common ones include:</p><ul>
<li><p>Config/Needs/website - for dependencies used in building the pkgdown site.</p></li>
<li><p>Config/Needs/coverage for dependencies used in calculating test coverage.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>upgrade</th>
      <td><p>Should package dependencies be upgraded? One of "default", "ask", "always", or "never". "default"
respects the value of the <code>R_REMOTES_UPGRADE</code> environment variable if set,
and falls back to "ask" if unset. "ask" prompts the user for which out of
date packages to upgrade. For non-interactive sessions "ask" is equivalent
to "always". <code>TRUE</code> and <code>FALSE</code> are also accepted and correspond to
"always" and "never" respectively.</p></td>
    </tr>
    <tr>
      <th>keep_source</th>
      <td><p>If <code>TRUE</code> will keep the srcrefs from an installed
package. This is useful for debugging (especially inside of RStudio).
It defaults to the option <code>"keep.source.pkgs"</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>path</code>, invisibly.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is also registered as an <a href='https://rstudio.github.io/rstudioaddins/'>RStudio add-in</a> allowing RStudio users to assign a custom shortcut to it.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Salim Brüggemann.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>1.6.1.9000.</p></p>
</div>

      </footer>
   </div>

  

  

<script data-goatcounter="https://rpkg-dev.goatcounter.com/count" async src="../goatcounter.min.js"></script>



  

  </body>
</html>

